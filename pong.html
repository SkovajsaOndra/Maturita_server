<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pong pro jednoho hráče</title>
    <style>
        body {
            background-image: url('obrazky/stul.jpg');
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }
        .container {
            position: relative;
        }
        .phone {
            width: 7.5cm;
            height: 570px;
            background-color: #fff;
            border-radius: 32px;
            border: 8px solid black;
            position: relative;
            overflow: hidden;
        }
        .notch {
            width: 120px;
            height: 30px;
            background-color: black;
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 0 0 15px 15px;
            z-index: 5;
        }
        .status-bar {
            position: absolute;
            top: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 5px 10px;
            font-size: 12px;
        }
        canvas {
            display: block;
            width: 100%;
            height: calc(100% - 30px);
            position: absolute;
            top: 30px;
        }
        .start-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 15px 35px;
            font-size: 1.5rem;
            color: white;
            background-color: #007bff;
            border: none;
            border-radius: 16px;
            cursor: pointer;
            z-index: 10;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        .back-arrow {
            position: absolute;
            bottom: 10px;
            left: 10px;
            width: 30px;
            cursor: pointer;
            z-index: 10;
        }
        .game-over-screen {
            display: none;
            position: absolute;
            top: 35%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            background-color: white;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            z-index: 15;
        }
        .game-over-screen img {
            width: 150px;
            margin-bottom: 10px;
        }
        .game-over-screen button, .game-over-screen select {
            margin: 5px;
            padding: 8px 16px;
            font-size: 1rem;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="phone">
        <div class="notch"></div>
        <div class="status-bar">
            <span id="time">11:09</span>
            <span>📶 🛜 🔋</span>
        </div>
        <canvas id="gameCanvas" width="284" height="540"></canvas>
        <button class="start-button" id="startButton">Start</button>
        <div class="game-over-screen" id="gameOverScreen">
            <img src="obrazky/game_over.png" alt="Game Over">
            <p>Skóre: <span id="scoreDisplay">0</span></p>
            <label>Skin míčku:</label>
            <select id="skinSelect">
                <option value="obrazky/fotball.png">Fotbal</option>
                <option value="obrazky/basketbalak.png">Basketbal</option>
                <option value="obrazky/florbal.png">Florbal</option>
            </select>
            <label>Obtížnost:</label>
            <select id="speedSelect">
                <option value="1">Lehká</option>
                <option value="2.5">Střední</option>
                <option value="4">Těžká</option>
            </select>
            <button onclick="resetGame()">Reset</button>
        </div>
        <a href="hlavni_telefon.html">
            <img src="obrazky/leva_sipka.png" alt="Back" class="back-arrow">
        </a>
    </div>
</div>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const startButton = document.getElementById('startButton');

    let paddleWidth = 60, paddleHeight = 10, paddleX = (canvas.width - paddleWidth) / 2;
    let ballX = canvas.width / 2, ballY = canvas.height / 2;
    let ballSpeedX = 1, ballSpeedY = 1, ballImage = new Image();
    ballImage.src = 'obrazky/fotball.png'; // Výchozí skin

    let score = 0, gameRunning = false;

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillRect(paddleX, 10, paddleWidth, paddleHeight); // horní pálka
        ctx.fillRect(paddleX, canvas.height - paddleHeight - 10, paddleWidth, paddleHeight); // dolní pálka
        ctx.drawImage(ballImage, ballX - 8, ballY - 8, 16, 16);
        moveBall();
        if (gameRunning) requestAnimationFrame(draw);
    }

    function moveBall() {
        ballX += ballSpeedX;
        ballY += ballSpeedY;

        if (ballX <= 0 || ballX >= canvas.width) {
            ballSpeedX *= -1;
        }

        if ((ballY - 8 <= 20 && ballX > paddleX && ballX < paddleX + paddleWidth) ||
            (ballY + 8 >= canvas.height - 20 && ballX > paddleX && ballX < paddleX + paddleWidth)) {
            ballSpeedY *= -1;
            score++;
        }

        if (ballY < 0 || ballY > canvas.height) {
            endGame();
        }
    }

    function endGame() {
        gameRunning = false;
        document.getElementById('scoreDisplay').textContent = score;
        document.getElementById('gameOverScreen').style.display = 'block';
    }

    function resetGame() {
        score = 0;
        ballX = canvas.width / 2;
        ballY = canvas.height / 2;
        ballSpeedX = parseInt(document.getElementById('speedSelect').value);
        ballSpeedY = ballSpeedX;
        ballImage.src = document.getElementById('skinSelect').value;
        document.getElementById('gameOverScreen').style.display = 'none';
        gameRunning = true;
        draw();
    }

    document.addEventListener('mousemove', (e) => {
        const rect = canvas.getBoundingClientRect();
        paddleX = e.clientX - rect.left - paddleWidth / 2;
        if (paddleX < 0) paddleX = 0;
        if (paddleX > canvas.width - paddleWidth) paddleX = canvas.width - paddleWidth;
    });

    startButton.onclick = () => {
        startButton.style.display = 'none';
        gameRunning = true;
        draw();
    };
</script>
</body>
</html>
